# Contributor: Archie <Mymaud@gmail.com>
# Contributor: giniu <gginiu@gmail.com>
pkgname=freemind-unstable
pkgver=0.9.0.RC9
pkgrel=1
pkgdesc="FreeMind is a premier free mind-mapping software written in Java."
depends=('java-runtime')
makedepends=('apache-ant')
arch=('i686' 'x86_64')
license=('GPL')
source=("http://download.sourceforge.net/project/freemind/freemind-unstable/0.9.0_RC9/freemind-src-0.9.0_RC_9.tar.gz"
        "freemind-unstable"
        "freemind-unstable.png"
        "freemind-unstable.desktop")
url="http://freemind.sourceforge.net/wiki/index.php/Main_Page"
md5sums=('6c8769a0be4cc04304a65f89f282be64'
         '8fbc1af8866a6c2bf83e881a8940f733'
         '92e7ccb968dbe04e0c5acb3352c4847e'
         '11d249d6c4443a6fab4740b22c140261')

build() {
  install -d ${pkgdir}/usr/share/java/freemind-unstable
  install -d ${pkgdir}/usr/share/{applications,pixmaps}
  install -d ${pkgdir}/usr/bin
  
  cd ${srcdir}/freemind/
  /usr/share/java/apache-ant/bin/ant dist
  /usr/share/java/apache-ant/bin/ant post
  
  cd ${startdir}/
  cp -r ${srcdir}/bin/* ${pkgdir}/usr/share/java/freemind-unstable/
  chmod 755 ${pkgdir}/usr/share/java/freemind-unstable/dist/freemind.sh 
  install -D -m755  freemind-unstable ${pkgdir}/usr/bin/
  install -D -m644  freemind-unstable.png ${pkgdir}/usr/share/pixmaps
  install -D -m644  freemind-unstable.desktop ${pkgdir}/usr/share/applications
}
